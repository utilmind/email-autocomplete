"use strict";!function(t,e,o,i){var a={suggClass:"",suggColor:"#ccc",domains:["gmail.com","googlemail.com","yahoo.com","yahoo.co.uk","yahoo.fr","yahoo.de","yahoo.mx","rocketmail.com","hotmail.com","hotmail.co.uk","hotmail.ru","outlook.com","outlook.es","live.com","facebook.com","icloud.com","aol.com","mail.com","mail.ru","mail.ua","mail.be","mail.fr","mail.de","msn.com","mac.com","me.com","comcast.net","sbcglobal.net","verizon.net","att.net","bellsouth.net","peoplepc.com","mindspring.com","earthlink.net","gmx.com","inbox.com","inbox.ru","pobox.com","juno.com","lycos.com","zohomail.com","protonmail.com","hushmail.com","tutanota.com","topmail.com","charter.net","roadrunner.com","optonline.net","prodigy.net","zoominternet.net","cox.net","usa.net","yandex.com","yandex.ua","yandex.by","yandex.ru","ukr.net","meta.ua","online.ua","i.ua","email.ua","email.it","e-mail.ua","ua.fm","football.ua","3g.ua","tyt.in.ua","voliacable.com","breezein.net","rambler.ru","list.ru","bk.ru","qip.ru","pisem.net","webmail.ru","newmail.ru","nm.ru","pop3.ru","smtp.ru","pochta.ru","bigmir.net","gala.net","tut.by","seznam.cz","poczta.fm","alice.it","superdada.it","katamail.com","tiscali.it","freenet.de","t-online.de","web.de","freemail.hu"]};function n(e,o){var i=this;i.$field=t(e),i.options=t.extend(!0,{},a,o),i._defaults=a,i._domains=i.options.domains,i.init()}n.prototype={init:function(){var e=this;Array.prototype.indexOf||e.doIndexOf(),e.fieldLeftOffset=null,e.$field.wrap(t('<span class="eac-input-wrap'+(e.$field.hasClass("form-control")?" form-control":"")+'" />').css({display:e.$field.css("display"),position:"static"===e.$field.css("position")?"relative":e.$field.css("position"),fontSize:e.$field.css("fontSize"),padding:0,margin:0})),e.$cval=t("<span class='eac-cval' />").css({visibility:"hidden",position:"absolute",display:"inline-block",fontFamily:e.$field.css("fontFamily"),fontWeight:e.$field.css("fontWeight"),letterSpacing:e.$field.css("letterSpacing")}).insertAfter(e.$field);var o=(e.$field.outerHeight(!0)-e.$field.height())/2;e.$suggOverlay=t("<span "+(e.options.suggClass?'class="'+e.options.suggClass:'style="color:'+e.options.suggColor)+'" />').css({display:"block","box-sizing":"content-box",lineHeight:e.$field.css("lineHeight"),paddingTop:o+"px",paddingBottom:o+"px",fontFamily:e.$field.css("fontFamily"),fontWeight:e.$field.css("fontWeight"),letterSpacing:e.$field.css("letterSpacing"),position:"absolute",top:0,left:0}).insertAfter(e.$field),e.$field.on("keyup.eac",t.proxy(e.displaySuggestion,e)),e.$field.on("blur.eac",t.proxy(e.autocomplete,e)),e.$field.on("keydown.eac",t.proxy(function(t){39!==t.which&&9!==t.which||e.autocomplete()},e)),e.$suggOverlay.on("mousedown.eac touchstart.eac",t.proxy(e.autocomplete,e))},suggest:function(t){var e=t.split("@");return e.length>1&&(t=e.pop()).length?(this._domains.filter(function(e){return 0===e.indexOf(t)}).shift()||"").replace(t,""):""},autocomplete:function(){if(void 0===this.suggestion||this.suggestion.length<1)return!1;this.$field.val(this.val+this.suggestion),this.$suggOverlay.text(""),this.$cval.text("")},displaySuggestion:function(t){var e=this;e.val=e.$field.val(),e.suggestion=e.suggest(e.val),e.suggestion.length?t.preventDefault():e.$suggOverlay.text(""),e.$suggOverlay.text(e.suggestion),e.$cval.text(e.val),null===e.fieldLeftOffset&&(e.fieldLeftOffset=(e.$field.outerWidth(!0)-e.$field.width())/2);var o=e.$cval.width();e.$field.outerWidth()>o&&e.$suggOverlay.css("left",e.fieldLeftOffset+o+"px")},doIndexOf:function(){Array.prototype.indexOf=function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var o=this.length>>>0;for(e=+e||0,Math.abs(e)===1/0&&(e=0),e<0&&(e+=o)<0&&(e=0);e<o;e++)if(this[e]===t)return e;return-1}}},t.fn.emailautocomplete=function(e){return this.each(function(){t.data(this,"yz_emailautocomplete")||t.data(this,"yz_emailautocomplete",new n(this,e))})}}(jQuery,window,document);